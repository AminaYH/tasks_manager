<li id="<%= dom_id(task) %>"
    class="tasks__item <%= 'tasks__item__completed' if task.completed %>"
    data-controller="inline-edit"
    data-task-id="<%= task.id %>">

  <%= turbo_frame_tag dom_id(task) do %>
    <div class="task-content">
      <div class="task-title" data-field="title"><%= task.title %></div>
      <div class="task-description" data-field="description"><%= task.description %></div>
    </div>

    <div class="task-actions">
      <%= button_to (task.completed ? "Uncheck" : "Check"),
            task_path(task),
            method: :patch,
            params: { task: { completed: !task.completed } },
            class: "btn btn-sm #{task.completed ? 'btn-warning' : 'btn-success'}",  
            form: { data: { turbo_frame: dom_id(task) } } %>

      <%= button_to "Delete", task_path(task),
            method: :delete,
            data: { turbo_confirm: "Are you sure?" },
            class: "btn btn-sm btn-danger" %>
    </div>
  <% end %>
</li>
