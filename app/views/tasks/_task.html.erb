<li id="<%= dom_id(task) %>"
    class="tasks__item <%= 'tasks__item__completed' if task.completed %>"
    data-controller="inline-edit"
    data-task-id="<%= task.id %>">

  <%= turbo_frame_tag dom_id(task) do %>
    <div class="task-content">
      <div class="text-gray-900 font-bold text-lg truncate" data-field="title"><%= task.title %></div>
      <div class="text-gray-600 text-sm line-clamp-2" data-field="description"><%= task.description %></div>
    </div>

<div class="task-actions">
  <%= button_to (task.completed ? "Uncheck" : "Check"),
        task_path(task),
        method: :patch,
        params: { task: { completed: !task.completed } },
        class: "px-3 py-1.5 rounded-full font-semibold text-white transition-all duration-150 shadow-md hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-1
            #{task.completed ? 'bg-yellow-500 hover:bg-yellow-600 focus:ring-yellow-400' : 'bg-green-500 hover:bg-green-600 focus:ring-green-400'}",
        form: { data: { turbo_frame: dom_id(task) } } %>

  <%= button_to "Delete", task_path(task),
        method: :delete,
        data: { turbo_confirm: "Are you sure?" },
        class: "px-3 py-1.5 rounded-full font-semibold text-white bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-red-400 shadow-md transition-all duration-150 hover:scale-105" %>
</div>

  <% end %>
</li>
